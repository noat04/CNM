<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>L·ªãch s·ª≠ thao t√°c</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
</head>
<body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container">
            <a class="navbar-brand" href="/">TMA Store</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="/products">S·∫£n ph·∫©m</a></li>
                    <li class="nav-item"><a class="nav-link active" href="/logs">L·ªãch s·ª≠</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <main class="container my-5">
        <h2 class="mb-4 fw-bold text-primary">üìú Nh·∫≠t K√Ω Ho·∫°t ƒê·ªông (Audit Logs)</h2>

        <div class="card shadow border-0">
            <div class="card-body p-0">
                <table class="table table-striped table-hover align-middle mb-0">
                    <thead class="table-dark">
                        <tr>
                            <th>Th·ªùi gian</th>
                            <th>Ng∆∞·ªùi th·ª±c hi·ªán</th>
                            <th>H√†nh ƒë·ªông</th>
                            <th>S·∫£n ph·∫©m (ID/T√™n)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% if (logs && logs.length > 0) { %>
                            <% logs.forEach(log => { %>
                                <tr>
                                    <td><%= log.formattedTime %></td>
                                    <td>
                                        <span class="fw-bold"><%= log.username %></span>
                                    </td>
                                    <td>
                                        <% if (log.action === 'CREATE') { %>
                                            <span class="badge bg-success">Th√™m m·ªõi</span>
                                        <% } else if (log.action === 'UPDATE') { %>
                                            <span class="badge bg-primary">C·∫≠p nh·∫≠t</span>
                                        <% } else { %>
                                            <span class="badge bg-danger">X√≥a</span>
                                        <% } %>
                                    </td>
                                    <td class="text-muted"><%= log.productName %></td>
                                </tr>
                            <% }) %>
                        <% } else { %>
                            <tr><td colspan="4" class="text-center py-4">Ch∆∞a c√≥ l·ªãch s·ª≠ n√†o.</td></tr>
                        <% } %>
                    </tbody>
                </table>
            </div>
        </div>
    </main>
</body>
</html>